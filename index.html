<!DOCTYPE html>
<html lang="ru">
<head>
  <meta charset="UTF-8" />
  <title>–ü–æ–¥–∞—Ä–∫–∏ Mini App</title>
  <meta name="viewport" content="width=device-width, initial-scale=1" />
  <script src="https://telegram.org/js/telegram-web-app.js"></script>
  <link rel="stylesheet" href="style.css" />
</head>
<body>
  <div class="container">
    <div id="content">
      <section id="cases" class="section active">
        <h2>–ö–µ–π—Å—ã</h2>
        <p>–¢—É—Ç –±—É–¥—É—Ç –∫–µ–π—Å—ã</p>
      </section>
      <section id="earn" class="section">
        <h2>–ó–∞—Ä–∞–±–æ—Ç–∞—Ç—å</h2>
        <p>—Ç—É—Ç –±—É–¥—É—Ç –∑–∞–¥–∞–Ω–∏—è.</p>
      </section>
      <section id="invite" class="section">
        <h2>–ü—Ä–∏–≥–ª–∞—à–µ–Ω–∏—è</h2>
        <p>–¢—É—Ç –±—É–¥—É—Ç –∏–Ω–≤–∞–π—Ç—ã.</p>
      </section>
      <section id="shop" class="section">
        <h2>–ú–∞–≥–∞–∑–∏–Ω –ø–æ–¥–∞—Ä–∫–æ–≤</h2>
        <p>–ó–¥–µ—Å—å –±—É–¥–µ—Ç –º–∞–≥–∞–∑–∏–Ω –ø–æ–¥–∞—Ä–∫–æ–≤</p>
      </section>
      <section id="profile" class="section">
        <h2>–ü—Ä–æ—Ñ–∏–ª—å</h2>
        <label>
<section id="profile" class="section">
  <h2>üë§ –ü—Ä–æ—Ñ–∏–ª—å</h2>

  <div class="profile-card">
    <img id="avatar" class="avatar" src="" alt="Avatar" />
    <div class="profile-info">
      <div id="fullname" class="fullname">–ò–º—è</div>
      <div id="username" class="username">@username</div>
    </div>
  </div>

  <label class="effects-toggle">
    <input type="checkbox" id="effectsToggle" checked />
    –í–∫–ª—é—á–∏—Ç—å —ç—Ñ—Ñ–µ–∫—Ç—ã
  </label>
</section>
    </div>
  </div>

  <div class="bottom-nav">
    <button onclick="navigate('cases')" class="nav-button" aria-label="–ö–µ–π—Å—ã">üéÅ</button>
    <button onclick="navigate('earn')" class="nav-button" aria-label="–ó–∞—Ä–∞–±–æ—Ç–∞—Ç—å"><img src="Icon/Quest.png" alt=""></button>
    <button onclick="navigate('invite')" class="nav-button" aria-label="–ü—Ä–∏–≥–ª–∞—à–µ–Ω–∏—è">üë•</button>
    <button onclick="navigate('shop')" class="nav-button" aria-label="–ú–∞–≥–∞–∑–∏–Ω –ø–æ–¥–∞—Ä–∫–æ–≤"><img src="Icon/Store.png" alt=""></button>
    <button onclick="navigate('profile')" class="nav-button" aria-label="–ü—Ä–æ—Ñ–∏–ª—å">üë§</button>
  </nav>
  

  <script>
    let effectsEnabled = localStorage.getItem('effectsEnabled');
    if (effectsEnabled === null) effectsEnabled = 'true';
    else effectsEnabled = effectsEnabled === 'true';

    const effectsToggle = document.getElementById('effectsToggle');
    effectsToggle.checked = effectsEnabled;

    function setEffectsState(enabled) {
      effectsEnabled = enabled;
      localStorage.setItem('effectsEnabled', enabled);
      document.body.classList.toggle('effects-disabled', !enabled);
    }

    effectsToggle.addEventListener('change', () => {
      setEffectsState(effectsToggle.checked);
    });

    setEffectsState(effectsEnabled);

    function navigate(sectionId) {
      const sections = document.querySelectorAll('.section');
      const current = document.querySelector('.section.active');
      if (current.id === sectionId) return;

      if (effectsEnabled) {
        current.classList.add('fade-out');
        current.classList.remove('fade-in');

        setTimeout(() => {
          current.classList.remove('active', 'fade-out');
          const next = document.getElementById(sectionId);
          next.classList.add('active', 'fade-in');
        }, 300);
      } else {
        current.classList.remove('active', 'fade-in', 'fade-out');
        document.getElementById(sectionId).classList.add('active');
      }
    }
    window.addEventListener("load", () => {
  const user = Telegram.WebApp.initDataUnsafe?.user;

  if (user) {
    document.getElementById("fullname").textContent = `${user.first_name} ${user.last_name || ''}`;
    document.getElementById("username").textContent = user.username ? `@${user.username}` : `ID: ${user.id}`;
    document.getElementById("avatar").src = user.photo_url || "https://via.placeholder.com/64?text=üë§";
  } else {
    document.getElementById("fullname").textContent = "–ì–æ—Å—Ç—å";
    document.getElementById("username").textContent = "–ù–µ—Ç –¥–∞–Ω–Ω—ã—Ö";
    document.getElementById("avatar").src = "https://via.placeholder.com/64?text=‚ùì";
  }
});
  </script>
</body>
</html>